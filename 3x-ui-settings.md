# Установка панели 3x-ui. Важные дополнения 
>Разработчики постоянно обновляют панель 3x-ui и чтобы не писать каждый раз новое видео я буду выкладывать здесь все исправления. Если что-то не работает - сначала читаем этот текст, потом идем в камменты за помощью.

## Если что-то пошло не так.
Если что-то не работает, панель всегда можно снести и настроить заново. Для этого в терминале введите следующую команду:
```sh
sudo x-ui
```
После чего выберите пункт **Uninstall**. Панель будет удалена с сервера и ее можно будет заново установить на тот же сервер.

![Удаление панели](https://raw.githubusercontent.com/ServerTechnologies/youtube-instructions/refs/heads/main/screenshots/3x-ui/unistal.jpg)

## Установка панели.
При установке панели есть некоторые изменения. Разработчики упростили установку панели. Все делается как в видео: вводите команду установки, а дальше задаются стандартный порт, и логин/пароль, дополнительно разработчики добавили WebBasePath.
WebBasePath нужен для того чтобы скрыть стандартный адрес панели управления. Основные шаги делаем как в видео. Вводим команду:
```sh
apt update && apt upgrade -y
```
Далее вводим команду установки панели из гитхаба разработчиков ([ссылка на гитхаб разработчиков](https://github.com/MHSanaei/3x-ui?ysclid=lstfiw45v6910325792)):
```sh
bash <(curl -Ls https://raw.githubusercontent.com/mhsanaei/3x-ui/master/install.sh)
```
У вас может появится вот такое окно. Просто жмите Enter. (Вообще, если всплывают любые окна - просто жмет Enter)
![Окно на розовом фоне](https://raw.githubusercontent.com/ServerTechnologies/youtube-instructions/refs/heads/main/screenshots/3x-ui/pink-display.jpg)

Скрипт установки делает все автоматически, в процесс вмешеваться не нужно. В конце установки вы увидите значение WebBasePath и меню управления панелью:

![Экран в коце процесса установки](https://raw.githubusercontent.com/ServerTechnologies/youtube-instructions/refs/heads/main/screenshots/3x-ui/end-of-install.png)

Чтобы получить порт панели, логин и пароль юзера введите команду:

```sh
x-ui settings
```
![Логин, пароль, порт](https://raw.githubusercontent.com/ServerTechnologies/youtube-instructions/refs/heads/main/screenshots/3x-ui/x-ui-settings.png)


Чтобы попасть в панель, нужно ввести в адресную строку браузера
 ```sh
http:// 111.222.333.444:port/WebBasePath
```

Где 111.222.333.444 - ip адрес вашего сервера, port - порт панели (по умолчанию 2053), WebBasePath - то что указано в выводе команды установки панели, в моем примере это:
```sh
http://111.222.333.444:2053/all1IMAubxcXzBc
```
Далее на странице входа вводите логин/пароль admin/admin из того же вывода команды.

## Маняем стандартный логин и пароль
Разумеется, нельзя оставлять стандартный логин и пароль admin/admin, их обязательно нужно изменить. Для этого после входа в панель, в левом меню жмем "Настройки панели" и выбираем "Настройки безопасности".
Там меняем логин и пароль на свои, жмем "Подтвердить", вас выбросит из панели и надо будет заново залогинится под новыми  учетными данными.

![Меняем логин и пароль](https://raw.githubusercontent.com/ServerTechnologies/youtube-instructions/refs/heads/main/screenshots/3x-ui/security-settings.png)

Если вдруг вы не можете залогинится под новыми данными, например допукстив ошибку при смене пароля, то их так же можно посмотреть в терминале с помощью команды x-ui settings, там данные тоже обновятся.
## Меняем стандартный порт панели.
Можно так же изменить стандартный порт панели 2053 на какой-то другой. Для этого идем в левом меню в "Настройки панели", выбираем пункт "Настройки панели" и там выбираем пункт "Порт панели", вставляем свой порт. Это
Дожна быть цифра в диапазоне от 1024 до 65535. Далее в верхней части панели жмем кнопку "Сохранить" и "Перезапустить панель". Панель перезапустится и в адресной строке браузера, в адресе панели надо будет указать новый порт

![Меняем порт панели](https://raw.githubusercontent.com/ServerTechnologies/youtube-instructions/refs/heads/main/screenshots/3x-ui/pannel-port.png)

## Как убрать красную плашку "Предупреждение системы безопасности".
После установки панели у вас в самом верху будет плашка "Предупреждение системы безопасностиНекоторые настройки уязвимы для атак. Рекомендуется усилить протоколы безопасности, чтобы предотвратить потенциальные нарушения. В панели отсутствует безопасное соединение. Пожалуйста, установите сертификат TLS для защиты данных."\
Про то как ее убрать есть целое видео:\
https://youtu.be/uQiE3JWE2ig

## Если вроде все работает, но ip не меняется.
В некоторых случаях при запуске на ПК пропадает соединение, либо не происходит смены ip. То есть значок V2rayN загорается красным, вроде подключение есть но ip не меняется. Это связанно с тем что некоторые расширения браузера начинают конфликтовать с клиентом с которого идет подключение. Просто попробуйте другой браузер - все должно работать.

Если никаких дополнений в браузере нет, то есть два варианта: включить ползунок "Режим ВПН", тогда весь трафик системы будет идти через ВПН.

![Включить впн](https://raw.githubusercontent.com/ServerTechnologies/youtube-instructions/refs/heads/main/screenshots/3x-ui/vpn-mode.jpg)

Либо в настройках операционной системы указать использование системных прокси. Такие браузеры как Firefox используют их по умолчанию, а вот например Google Chrome не использует, так что идем в настройки и ручками указываем использование прокси.
- Отрываем гугл хром и идем в настройки.
- В поле "Поиск настроек" вбиваем слово "прокси"
- Жмем "Открыть настройки прокси сервера для компьютера"
- И делаем как на скриншоте: 127.0.0.1 - это адрес локального хоста, с него идет переадресация трафика на сервер. 10809 - это порт на котором работает прокси на локальном хосте. Этот порт можно узнать в V2rayN в левом нижнем углу (см предыдущий скриншот)

![Настройка прокси в системе](https://raw.githubusercontent.com/ServerTechnologies/youtube-instructions/refs/heads/main/screenshots/3x-ui/proxy-settings.jpg)

## Если не работает Дискорд.
В V2rayN включите ползунок "Режим ВПН" или см. предыдущий пункт.

## Если не работает WhatsApp на ios.
В Streisand настройки - Туннель - ip settings - выбрать только ipv4

## Настройка ssh-ключей и общая безопасность сервера.
Есть видеоурок по безопасности сервера, где я показываю как установить ключи и многое другое:\
https://youtu.be/SaVi8Mw4Ci8

## Это соединение не защищено, настройка ssh-ключей и общая безопасность сервера.
Если вы видите окно с предупреждением "Это соединение не защищено. Пожалуйста, воздержитесь от ввода конфиденциальной информации до тех пор, пока не будет активирован TLS для защиты данных...". Это потому что трафик по умолчанию. идет по http, его надо переключить на https.
По решению этой проблемы есть целое видео, в нем информация по общей безопасности сервера, настройки ssh ключей и подключению TLS сертификата с помощью домена (стоит примерно $2-15 за год, бесплатный вариант с freemyip, предложенный в видео, перестал работать в России):\
https://youtu.be/SaVi8Mw4Ci8

И еще оно видео только про TLS сертификаты (если нет возможности или желания приобретать домен, вместо freemyip):\
https://youtu.be/uQiE3JWE2ig
## Клиенты для разный разных операционных систем.
### Windows
V2RayN:\
https://github.com/2dust/v2rayN/releases

### MacOS
V2Box\
FoxRay

### Linux
Nekoray\
https://github.com/MatsuriDayo/nekoray/releases

### IOS
Streisand:\
https://apps.apple.com/ru/app/streisand/id6450534064

### Android
V2rayNG\
Устанавливается из Google Play, очень сильно похож на Nekobox по функционалу, лучше использовать его.\
https://play.google.com/store/apps/details?id=com.v2ray.ang

NekoBox:\
https://github.com/MatsuriDayo/NekoBoxForAndroid/releases

